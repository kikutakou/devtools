<!DOCTYPE html>

<!-- the part of source codes are from http://codepen.io/ashblue/pen/mCtuA -->

<html >
<head>
  <meta charset="UTF-8">
  <title>Escape XML Entities</title>
  <link rel='stylesheet prefetch' href='http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css'>
  <link rel='stylesheet prefetch' href='http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css'>
  <style type="text/css">
    <!--
    textarea {resize: none; overflow: auto; height: 150px; width: 1000px;}
  -->
</style>
</head>

<body>
  <div class="container">

    <h1>Escape XML Entities</h1><br>
    Unescaped: <br>
    <textarea id="original">"this message will be converted" \reverse conversion is supported\</textarea>
    <br><br>
    Escaped: <br>
    <textarea id="converted">\"this message will be converted\" \\reverse conversion is supported\\</textarea>
    <br><br>
    <div align="right" style="font-style: italic;">developed by kokiku in STCJ</div>
  </div>
  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
  <script src='http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js'></script>
  <script src='http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js'></script>
  <script src='http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore.js'></script>
  <script>

//request change
$('#original').keyup(function(e) {
  $('#converted').val($('#original').val().replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&apos;'));
});

//url change
$('#converted').keyup(function(e){
  $('#original').val($('#converted').val().replace(/&amp;/g, '&').replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&quot;/g, '"').replace(/&apos;/g, '\''));
});

</script>
</body>
</html>
