<!DOCTYPE html>

<!-- the part of source codes are from http://codepen.io/ashblue/pen/mCtuA -->

<html >
<head>
  <meta charset="UTF-8">
  <title>Json format</title>
  <link rel='stylesheet prefetch' href='http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css'>
  <link rel='stylesheet prefetch' href='http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css'>
  <style type="text/css">
    <!--
    textarea {resize: none; overflow: auto; height: 300px; width: 1000px;}
  -->
</style>
</head>

<body>
  <div class="container">

    <h1>Json format</h1><br>
    json string: <br>
    <textarea id="json">{"menu": { "id": "file", "value": "File", "popup": { "menuitem": [ {"value": "New", "onclick": "CreateNewDoc()"}, {"value": "Open", "onclick": "OpenDoc()"}, {"value": "Close", "onclick": "CloseDoc()"} ] } }} </textarea>
    <br><br>
    status: <br>
    
    <div id="status">please touch the textarea first</div>
    <br><br>
    <div align="right" style="font-style: italic;">developed by kokiku in STCJ</div>
  </div>
  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
  <script src='http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js'></script>
  <script src='http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js'></script>
  <script src='http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore.js'></script>
  <script>

//request change
$('#json').keyup(function(e) {
  try {
    var json = JSON.stringify(JSON.parse($('#json').val()), null, 4);
    $('#json').val(json);
    $('#status').text("successfully parsed and formatted");

  } catch(e) {
    $('#status').text(e);
  }
});


</script>
</body>
</html>
